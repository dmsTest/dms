数据采集客户机
1.用例描述
数据采集客户机读取日志文件形成一些匹配记录
通过网络发送给数据采集服务器。
(1)匹配日志记录--->数据的来源
(2)通过网络发送给数据采集服务器

2.找对象
系统管理员，数据采集客户机，启动日志读取器对日志文件读取到列表，通过日志发送器

3.基本事件流
(1)正常时间流</br>
A.备份日志文件，产生备份文件，以时间为后缀wtmpx.20160670852xx（秒）
B.读取备份日志文件，获取登入登出的记录
登录名，登录IP，登录PID进程号，登入登出时间，登陆时段
C.根据数据采集服务器的IP和端口号发起TCP请求，建立有效的链接
D.将匹配的日志记录通过TCP发送到数据采集服务器
(2)异常事件流
A.备份日志文件失败：终止采集（提示管理员出错，让管理员寻找出错的原因）；
B.读取系统日志失败：终止采集
C.匹配登入登出日志记录发生意外
a.有登出 没有登入：丢弃，不予计费
b.有登录 没有登出：将登入记录写入未匹配的日志记录文件中去，以备下次读取采集
D.链接服务器失败，将全部的匹配日志记录保存到发送失败文件，以备采集重发
E.发送过程中失败，将尚未发送出去的匹配日志通过记录保存到发送失败文件中，以备下次采集发送
4.前置条件--->每一个事件节点所依赖的东西
(1)日志文件路径：/var/admin/wtmpx(项目中放在日志采集客户机的代码目录下)
(2)登入文件名路径：<代码目录下>/logins.dat
(3)发送失败文件路径：<代码目录下>/fail.dat
(4)数据采集服务器的IP地址：通信端口

5.后置条件---->根据匹配日志记录所形成的网络数据包(匹配日志记录打包成网络数据包)
6.特殊规则
通过规则意外发生的补充说明，本项目中没有特殊规则。
